# 竞品图库功能说明

## 功能概述

在参考图库中新增了"竞品图库"选项卡，用户可以查看和选择通过浏览器插件上传到 `competitor` 文件夹的竞品图片作为参考图使用。

## 功能位置

1. 进入专业模式
2. 点击工具栏中的"参考图库"按钮
3. 在参考图库界面中，可以看到三个选项卡：
   - **公共数据库** - 系统预设的参考图片
   - **竞品图库** - 通过插件上传的竞品图片（新增）
   - **私有数据库** - 用户个人上传的图片

## 使用方法

### 查看竞品图片
1. 点击"竞品图库"选项卡
2. 系统会自动加载 Storage 中 `competitor` 文件夹下的所有图片
3. 图片以网格形式展示，支持缩略图预览

### 选择参考图
1. 点击图片或右上角的选择按钮
2. 已选择的图片会显示绿色边框和勾选标记
3. 底部显示已选择的图片数量
4. 点击"确认选择"按钮，图片会添加到当前会话的参考图中

### 使用参考图
1. 选择的竞品图片会显示在工具栏下方的参考图区域
2. 这些图片会在生成提示词时作为参考
3. 可以随时删除不需要的参考图

### 删除竞品图片
1. 鼠标悬停在图片上会显示删除按钮（左上角红色垃圾桶图标）
2. 点击删除按钮会弹出确认对话框
3. 确认后图片将从 Storage 中永久删除
4. 如果该图片已被选择为参考图，会自动从选择列表中移除

## 技术实现

- **存储位置**: Supabase Storage 的 `reference-images` bucket 中的 `competitor` 文件夹
- **图片来源**: 通过浏览器插件"竞品图库上传助手"上传
- **图片格式**: 支持 WebP、JPG、PNG 等常见图片格式
- **访问权限**: 所有用户均可查看和使用竞品图库中的图片

## 相关文件

- `/src/components/ReferenceImageLibrary.tsx` - 参考图库主组件
- `/src/services/publicReferenceImageService.ts` - 图片加载服务
- `/browser-extension/` - 浏览器插件代码

## 注意事项

1. 竞品图片对所有用户可见
2. 图片按上传时间倒序排列
3. 支持批量选择多张图片
4. 选择的图片会持久化保存在本地存储中
