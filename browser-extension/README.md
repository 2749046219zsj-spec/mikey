# 图片管理插件 - 多用户版本

## 功能特性

### 个人图库（新功能）
- ✅ 用户注册和登录
- ✅ 个人图片管理
- ✅ 存储配额管理（默认100MB/用户）
- ✅ 图片上传和删除
- ✅ 右键菜单快速上传
- ✅ 完全的数据隔离

### 竞品图库（保留原功能）
- ✅ 右键菜单上传到竞品库
- ✅ 上传统计

## 快速安装

### 1. 配置文件
确保 `config.json` 已正确配置：
```json
{
  "supabaseUrl": "https://tvghcqbgktwummwjiexp.supabase.co",
  "supabaseAnonKey": "your-anon-key",
  "competitorUploadEndpoint": "https://tvghcqbgktwummwjiexp.supabase.co/functions/v1/competitor-image-upload",
  "enabled": true
}
```

### 2. 安装插件
1. 打开 Chrome 浏览器
2. 访问 `chrome://extensions/`
3. 启用右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择 `browser-extension` 文件夹
6. 安装完成！

### 3. 首次使用
1. 点击浏览器工具栏的插件图标
2. 点击"没有账号？立即注册"
3. 填写用户名、邮箱、密码
4. 注册成功后登录
5. 开始使用！

## 使用方式

### 方式1：插件界面上传
1. 点击插件图标
2. 点击"上传图片"按钮
3. 选择图片
4. 等待上传完成

### 方式2：右键菜单上传
1. 浏览任意网页
2. 右键点击图片
3. 选择"上传到我的图库"（需登录）
4. 或选择"上传到竞品图库"（无需登录）

## 存储配额

- 默认配额：100MB/用户
- 单文件限制：10MB
- 支持格式：JPG, PNG, GIF, WebP
- 删除图片自动释放配额

## 右键菜单说明

- **上传到我的图库**：上传到个人图库，需要登录，数据完全隔离
- **上传到竞品图库**：上传到公共竞品库，无需登录，所有人可见

## 数据安全

- JWT Token 认证
- Row Level Security (RLS)
- 完全的数据隔离
- 无法访问其他用户数据
- Storage 按用户ID分文件夹

## 常见问题

### Q: 插件显示"请配置 config.json 文件"？
A: 确保 `config.json` 存在且配置正确。从 `config.example.json` 复制并修改。

### Q: 注册后无法登录？
A: 邮箱默认自动确认，检查用户名和密码是否正确（密码至少6位）。

### Q: 上传失败提示"存储空间不足"？
A: 默认100MB配额已满，请删除部分图片释放空间。

### Q: 看不到上传的图片？
A: 点击"刷新"按钮，或退出重新登录。

### Q: 右键菜单没有"上传到我的图库"选项？
A: 重新加载插件：
   1. 进入 `chrome://extensions/`
   2. 找到插件
   3. 点击"重新加载"按钮

## 技术支持

如有问题，请查看项目根目录的详细文档：
- `MULTIUSER_SYSTEM_GUIDE.md` - 完整技术文档
- `MULTIUSER_QUICK_START.md` - 快速入门指南

## 更新说明

### v2.0.0 (最新版)
- ✅ 新增多用户系统
- ✅ 用户注册和登录
- ✅ 个人图库管理
- ✅ 存储配额系统
- ✅ 数据完全隔离
- ✅ 保留竞品上传功能

### v1.0.0
- ✅ 竞品图库上传
- ✅ 右键菜单
- ✅ 上传统计
